<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game - Custom Version</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <canvas id="gameCanvas"></canvas>
        <div class="game-info">
            <h2>Snake Game</h2>
            <p>Score: <span id="score">0</span></p>
            <p>Press 'Arrow Keys' to start the game.</p>
        </div>
    </div>
    <script src="game.js"></script>
</body>
</html>

const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const gridSize = 14; // Grid size for each "square" in the game
const tileSize = canvas.width / gridSize; // Size of each square (each day in the contribution grid)
let snake = [{x: 7, y: 7}];  // Initial snake position (starting in the middle)
let direction = 'RIGHT'; // Initial movement direction
let food = generateFood();
let score = 0;

// Game Loop
function gameLoop() {
    clearCanvas();
    moveSnake();
    drawSnake();
    drawFood();
    checkCollisions();
    drawScore();
    setTimeout(gameLoop, 100);
}

// Clear the canvas
function clearCanvas() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
}

// Move the snake based on the current direction
function moveSnake() {
    let head = {...snake[0]};
    if (direction === 'RIGHT') head.x += 1;
    if (direction === 'LEFT') head.x -= 1;
    if (direction === 'UP') head.y -= 1;
    if (direction === 'DOWN') head.y += 1;

    // Add new head to snake and remove tail
    snake.unshift(head);

    // If snake eats food, increase score
    if (head.x === food.x && head.y === food.y) {
        score += 1;
        food = generateFood();  // Generate new food
    } else {
        snake.pop();  // Remove tail if no food is eaten
    }
}

// Draw the snake on the canvas
function drawSnake() {
    snake.forEach(segment => {
        ctx.fillStyle = '#00FF00';  // Green snake
        ctx.fillRect(segment.x * tileSize, segment.y * tileSize, tileSize, tileSize);
    });
}

// Generate new food randomly on the grid
function generateFood() {
    const x = Math.floor(Math.random() * gridSize);
    const y = Math.floor(Math.random() * gridSize);
    return {x, y};
}

// Draw the food on the canvas
function drawFood() {
    ctx.fillStyle = '#FF0000';  // Red food
    ctx.fillRect(food.x * tileSize, food.y * tileSize, tileSize, tileSize);
}

// Draw score
function drawScore() {
    ctx.fillStyle = '#000';
    ctx.font = '20px Arial';
    ctx.fillText('Score: ' + score, 10, 20);
}

// Collision detection
function checkCollisions() {
    const head = snake[0];
    // Check if the snake hits the walls
    if (head.x < 0 || head.x >= gridSize || head.y < 0 || head.y >= gridSize) {
        alert('Game Over!');
        resetGame();
    }

    // Check if snake collides with itself
    for (let i = 1; i < snake.length; i++) {
        if (head.x === snake[i].x && head.y === snake[i].y) {
            alert('Game Over!');
            resetGame();
        }
    }
}

// Reset the game
function resetGame() {
    snake = [{x: 7, y: 7}];
    direction = 'RIGHT';
    score = 0;
    food = generateFood();
}

// Control snake movement with arrow keys
document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowUp' && direction !== 'DOWN') direction = 'UP';
    if (e.key === 'ArrowDown' && direction !== 'UP') direction = 'DOWN';
    if (e.key === 'ArrowLeft' && direction !== 'RIGHT') direction = 'LEFT';
    if (e.key === 'ArrowRight' && direction !== 'LEFT') direction = 'RIGHT';
});

// Start the game
gameLoop();

  
